<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1000 680">
  <!-- Background and borders -->
  <rect width="1000" height="680" fill="#f9f9f9" />
  
  <!-- AWS Cloud Border -->
  <rect x="50" y="80" width="900" height="550" fill="#ffffff" stroke="#232F3E" stroke-width="2" stroke-dasharray="6,3" rx="10" ry="10" />
  <text x="70" y="105" font-family="Arial" font-size="18" font-weight="bold" fill="#232F3E">AWS Cloud</text>
  
  <!-- VPC Border -->
  <rect x="100" y="130" width="800" height="450" fill="#EAECEE" stroke="#232F3E" stroke-width="2" rx="10" ry="10" />
  <text x="120" y="155" font-family="Arial" font-size="16" font-weight="bold" fill="#232F3E">VPC (10.0.0.0/16)</text>
  
  <!-- Public Subnet 1 -->
  <rect x="150" y="180" width="300" height="80" fill="#B3E5FC" stroke="#232F3E" stroke-width="1" rx="5" ry="5" />
  <text x="170" y="205" font-family="Arial" font-size="14" fill="#232F3E">Public Subnet 1 (10.0.1.0/24)</text>
  <text x="170" y="225" font-family="Arial" font-size="12" fill="#232F3E">Availability Zone 1</text>
  
  <!-- Public Subnet 2 -->
  <rect x="550" y="180" width="300" height="80" fill="#B3E5FC" stroke="#232F3E" stroke-width="1" rx="5" ry="5" />
  <text x="570" y="205" font-family="Arial" font-size="14" fill="#232F3E">Public Subnet 2 (10.0.2.0/24)</text>
  <text x="570" y="225" font-family="Arial" font-size="12" fill="#232F3E">Availability Zone 2</text>
  
  <!-- Private App Subnet 1 -->
  <rect x="150" y="300" width="300" height="120" fill="#DCEDC8" stroke="#232F3E" stroke-width="1" rx="5" ry="5" />
  <text x="170" y="325" font-family="Arial" font-size="14" fill="#232F3E">Private App Subnet 1 (10.0.3.0/24)</text>
  <text x="170" y="345" font-family="Arial" font-size="12" fill="#232F3E">Availability Zone 1</text>
  
  <!-- Private App Subnet 2 -->
  <rect x="550" y="300" width="300" height="120" fill="#DCEDC8" stroke="#232F3E" stroke-width="1" rx="5" ry="5" />
  <text x="570" y="325" font-family="Arial" font-size="14" fill="#232F3E">Private App Subnet 2 (10.0.4.0/24)</text>
  <text x="570" y="345" font-family="Arial" font-size="12" fill="#232F3E">Availability Zone 2</text>
  
  <!-- Private DB Subnet 1 -->
  <rect x="150" y="440" width="300" height="100" fill="#FFE0B2" stroke="#232F3E" stroke-width="1" rx="5" ry="5" />
  <text x="170" y="465" font-family="Arial" font-size="14" fill="#232F3E">Private DB Subnet 1 (10.0.5.0/24)</text>
  <text x="170" y="485" font-family="Arial" font-size="12" fill="#232F3E">Availability Zone 1</text>
  
  <!-- Private DB Subnet 2 -->
  <rect x="550" y="440" width="300" height="100" fill="#FFE0B2" stroke="#232F3E" stroke-width="1" rx="5" ry="5" />
  <text x="570" y="465" font-family="Arial" font-size="14" fill="#232F3E">Private DB Subnet 2 (10.0.6.0/24)</text>
  <text x="570" y="485" font-family="Arial" font-size="12" fill="#232F3E">Availability Zone 2</text>
  
  <!-- Internet Gateway -->
  <rect x="400" y="100" width="120" height="60" fill="#ffffff" stroke="#232F3E" stroke-width="1" rx="5" ry="5" />
  <text x="460" y="140" font-family="Arial" font-size="12" text-anchor="middle" fill="#232F3E">Internet Gateway</text>
  
  <!-- NAT Gateway 1 -->
  <rect x="270" y="190" width="100" height="60" fill="#ffffff" stroke="#232F3E" stroke-width="1" rx="5" ry="5" />
  <text x="320" y="225" font-family="Arial" font-size="12" text-anchor="middle" fill="#232F3E">NAT Gateway</text>
  
  <!-- AWS Resources Outside VPC -->
  
  <!-- S3 Buckets -->
  <rect x="120" y="580" width="150" height="40" fill="#E1BEE7" stroke="#232F3E" stroke-width="1" rx="5" ry="5" />
  <text x="195" y="605" font-family="Arial" font-size="12" text-anchor="middle" fill="#232F3E">S3 Raw Data</text>
  
  <rect x="280" y="580" width="150" height="40" fill="#E1BEE7" stroke="#232F3E" stroke-width="1" rx="5" ry="5" />
  <text x="355" y="605" font-family="Arial" font-size="12" text-anchor="middle" fill="#232F3E">S3 Processed Data</text>
  
  <rect x="440" y="580" width="150" height="40" fill="#E1BEE7" stroke="#232F3E" stroke-width="1" rx="5" ry="5" />
  <text x="515" y="605" font-family="Arial" font-size="12" text-anchor="middle" fill="#232F3E">S3 Website Hosting</text>
  
  <!-- CloudFront -->
  <rect x="600" y="580" width="150" height="40" fill="#FFCCBC" stroke="#232F3E" stroke-width="1" rx="5" ry="5" />
  <text x="675" y="605" font-family="Arial" font-size="12" text-anchor="middle" fill="#232F3E">CloudFront Distribution</text>
  
  <!-- Resources in Public Subnets -->
  <!-- Bastion Host -->
  <rect x="180" y="195" width="80" height="50" fill="#ffffff" stroke="#232F3E" stroke-width="1" rx="5" ry="5" />
  <text x="220" y="225" font-family="Arial" font-size="12" text-anchor="middle" fill="#232F3E">Bastion Host</text>
  
  <!-- API Gateway -->
  <rect x="600" y="195" width="80" height="50" fill="#ffffff" stroke="#232F3E" stroke-width="1" rx="5" ry="5" />
  <text x="640" y="225" font-family="Arial" font-size="12" text-anchor="middle" fill="#232F3E">API Gateway</text>
  
  <!-- Resources in Private App Subnets -->
  <!-- EC2 Instances -->
  <rect x="180" y="330" width="80" height="70" fill="#ffffff" stroke="#232F3E" stroke-width="1" rx="5" ry="5" />
  <text x="220" y="370" font-family="Arial" font-size="12" text-anchor="middle" fill="#232F3E">EC2 Data Processing</text>
  
  <rect x="340" y="330" width="80" height="70" fill="#ffffff" stroke="#232F3E" stroke-width="1" rx="5" ry="5" />
  <text x="380" y="370" font-family="Arial" font-size="12" text-anchor="middle" fill="#232F3E">EC2 Data Processing</text>
  
  <!-- Lambda -->
  <rect x="580" y="330" width="80" height="70" fill="#ffffff" stroke="#232F3E" stroke-width="1" rx="5" ry="5" />
  <text x="620" y="370" font-family="Arial" font-size="12" text-anchor="middle" fill="#232F3E">Lambda Function</text>
  
  <rect x="740" y="330" width="80" height="70" fill="#ffffff" stroke="#232F3E" stroke-width="1" rx="5" ry="5" />
  <text x="780" y="370" font-family="Arial" font-size="12" text-anchor="middle" fill="#232F3E">Lambda Function</text>
  
  <!-- Resources in Private DB Subnets -->
  <!-- RDS -->
  <rect x="280" y="460" width="80" height="60" fill="#ffffff" stroke="#232F3E" stroke-width="1" rx="5" ry="5" />
  <text x="320" y="495" font-family="Arial" font-size="12" text-anchor="middle" fill="#232F3E">RDS Primary</text>
  
  <rect x="640" y="460" width="80" height="60" fill="#ffffff" stroke="#232F3E" stroke-width="1" rx="5" ry="5" />
  <text x="680" y="495" font-family="Arial" font-size="12" text-anchor="middle" fill="#232F3E">RDS Standby</text>
  
  <!-- Flow Arrows -->
  <!-- Internet to IGW -->
  <path d="M460 30 L460 100" fill="none" stroke="#232F3E" stroke-width="2" marker-end="url(#arrowhead)" />
  <text x="470" y="70" font-family="Arial" font-size="12" fill="#232F3E">Internet</text>
  
  <!-- IGW to Public Subnets -->
  <path d="M420 160 L370 180" fill="none" stroke="#232F3E" stroke-width="2" marker-end="url(#arrowhead)" />
  <path d="M500 160 L600 180" fill="none" stroke="#232F3E" stroke-width="2" marker-end="url(#arrowhead)" />
  
  <!-- Public to Private -->
  <path d="M300 260 L300 300" fill="none" stroke="#232F3E" stroke-width="2" marker-end="url(#arrowhead)" />
  <path d="M640 260 L640 300" fill="none" stroke="#232F3E" stroke-width="2" marker-end="url(#arrowhead)" />
  
  <!-- App to DB -->
  <path d="M260 400 L280 460" fill="none" stroke="#232F3E" stroke-width="2" marker-end="url(#arrowhead)" />
  <path d="M640 400 L640 460" fill="none" stroke="#232F3E" stroke-width="2" marker-end="url(#arrowhead)" />
  
  <!-- RDS Cross-AZ Replication -->
  <path d="M360 480 L640 480" fill="none" stroke="#232F3E" stroke-width="2" stroke-dasharray="5,3" marker-end="url(#arrowhead)" />
  <text x="500" y="470" font-family="Arial" font-size="12" fill="#232F3E">Replication</text>
  
  <!-- EC2 to S3 -->
  <path d="M220 400 L200 580" fill="none" stroke="#232F3E" stroke-width="2" marker-end="url(#arrowhead)" />
  <path d="M380 400 L350 580" fill="none" stroke="#232F3E" stroke-width="2" marker-end="url(#arrowhead)" />
  
  <!-- S3 to CloudFront -->
  <path d="M515 580 L600 580" fill="none" stroke="#232F3E" stroke-width="2" marker-end="url(#arrowhead)" />
  
  <!-- CloudFront to Users -->
  <path d="M675 580 L760 30" fill="none" stroke="#232F3E" stroke-width="2" marker-end="url(#arrowhead)" />
  <text x="730" y="70" font-family="Arial" font-size="12" fill="#232F3E">Users</text>
  
  <!-- User Icon -->
  <circle cx="760" cy="20" r="10" fill="#232F3E" />
  <path d="M760 0 L760 -10 M750 10 L770 10" fill="none" stroke="#232F3E" stroke-width="2" />
  
  <!-- Arrowhead marker -->
  <defs>
    <marker id="arrowhead" markerWidth="10" markerHeight="7" refX="10" refY="3.5" orient="auto">
      <polygon points="0 0, 10 3.5, 0 7" fill="#232F3E" />
    </marker>
  </defs>
  
  <!-- Legend -->
  <rect x="800" y="600" width="15" height="15" fill="#B3E5FC" stroke="#232F3E" stroke-width="1" />
  <text x="820" y="613" font-family="Arial" font-size="12" fill="#232F3E">Public Subnet</text>
  
  <rect x="800" y="620" width="15" height="15" fill="#DCEDC8" stroke="#232F3E" stroke-width="1" />
  <text x="820" y="633" font-family="Arial" font-size="12" fill="#232F3E">Private App Subnet</text>
  
  <rect x="800" y="640" width="15" height="15" fill="#FFE0B2" stroke="#232F3E" stroke-width="1" />
  <text x="820" y="653" font-family="Arial" font-size="12" fill="#232F3E">Private DB Subnet</text>
</svg>
